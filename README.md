# Бектест торгового советника Eve

## Параметры бектестирования

1. Период с 2019 года по 2022 включительно.
2. В MT4 загружены архивные данные M1, M5, M15, M30, H1, H4, D1.
3. Настроены графики для отображения большого числа баров для прогона истории.
4. Тестируется робот Eve.
5. Исопльзуется модель тестирования "Все тики (наиболее точный метод на основе всех наименьших доступных таймфреймов)". Она самая медленная, но только она подходит для Eve, которая торгует разнонаправленными сетками и обновляет ордерам TP.
6. В бектестах использую параметры лотов для депозита в $10000. Хотя сам стартовый депозит в тестах установлен заведомо больший $30_000 (иногда $100_000), чтобы получить абсолютные значения просадок, по которым можно рассчитать просадку и необходый долив.
7. Используется режим оптимизации, который прогоняет бектесты на каждом периоде для 3-х разных занчений лота:
    - 0.1 из расчета консерватиных рекомендаций 0.01 на $1000.
    - 0.15 для 0.015 на $1000.
    - 0.2 для 0.02 на $1000.
11. Просадки больше 90% депозита прогоняю дополнительно прямо на графике, чтобы получить состав собранных сеток и их параметры (количество ордеров, цены открытий, количества и TP).

# 2019 год

**ВЫВОД по 2019 году:** 
В двух месяцах возникают критические ситуации:
- в мае 2019 года: уникальная ценовая ситуация, которая приводит к сливу любого депозита при любых настройках и любом доливе, т.к. открывается сетка в SELL против глобального миниимума цены золота. Единственная возможность уменьшить убыток - это как можно раньше закрыть сетку вручную, зафиксировав убыток. Распознать эту ситуацию по графикам в реальном времени вряд ли возможно.
- в июле 2019 года: при лоте 0.01/$1000 простадка составляет почти 100%. В тестере робот проходит эту ситуацию без долива. Но для больших лотов требуется доливы 45% и 85% соответсвенно.

![Просадки в 2019 год](https://github.com/sournk/baza_bot_backtest/blob/main/2019.%20Results.png)

![30.05.2019](https://github.com/sournk/baza_bot_backtest/blob/main/2019/2019-05-30-XAUUSDM1.png)

# 2020 год

**ВЫВОД по 2020 году:** 
1. Для лота 0.01/$1000 долив потребуется дважды: в августе 2020 около 15% от депозита и в ноябре - больше 167% от депозита. В обоих случаех можно было бы обойтись без долива, если успесть отключить автоторговлю где-то на 17-ом и 15-ом ордере, и дождаться отскока цены.
2. Для лота 0.015/$1000 долив потребовался также дважды. Только максимальный объем долива почти 304% от депозита.
3. Для лота 0.02/$1000 долив потребовался также 4раза. Максимальный объем долива почти 406% от депозита.

![Просадки в 2020 год](https://github.com/sournk/baza_bot_backtest/blob/main/2020.%20Result.png)

![12.08.2020](https://github.com/sournk/baza_bot_backtest/blob/main/2020/2020-08-12-XAUUSDM1.png)

![10.11.2020](https://github.com/sournk/baza_bot_backtest/blob/main/2020/2020-11-10-XAUUSDM1.png)


# 2021 год

**ВЫВОД по 2021 году:** 
1. Для лота 0.01/$1000 долив потребуется дважды: в июне 2020 около 81% от депозита и в августе - больше 41% от депозита. В обоих случаех можно было бы обойтись без долива, если успесть отключить автоторговлю где-то на 16-ом и 14-ом ордере, и дождаться отскока цены.
2. Для лота 0.015/$1000 долив потребовался также дважды. Только максимальный объем долива почти 173% от депозита.
3. Для лота 0.02/$1000 долив потребовался также 3 раза. Максимальный объем долива почти 242% от депозита.

![Просадки в 2021 год](https://github.com/sournk/baza_bot_backtest/blob/main/2021.%20Result.png)

![14.06.2021](https://github.com/sournk/baza_bot_backtest/blob/main/2021/2021-06-14-XAUUSDM1.png)

![14.06.2021](https://github.com/sournk/baza_bot_backtest/blob/main/2021/2021-08-09-XAUUSDM1.png)


# 2022 год

**ВЫВОД по 2022 году:** Долив потребуется только для лота 0.02/$1000 два раза в максимальном объеме 23%.

![Просадки в 2022 год](https://github.com/sournk/baza_bot_backtest/blob/main/2022.%20Result.png)
